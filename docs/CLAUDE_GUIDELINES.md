# Claude 작업 가이드라인

> Claude가 이 프로젝트에서 작업할 때 반드시 지켜야 할 철칙

---

## 🚨 절대 규칙 (CRITICAL)

### 1. 속도보다 정확성
- **절대 추측하지 않기**
- **파일을 직접 읽고 확인하기**
- 빠르게 답하려다 틀리는 것보다, 느려도 정확한 것이 훨씬 낫다

**나쁜 예:**
```
사용자: "이 파일이 뭐하는 거야?"
Claude: "아마 ~할 것 같습니다" (추측)
```

**좋은 예:**
```
사용자: "이 파일이 뭐하는 거야?"
Claude: [파일을 읽고] "이 파일은 정확히 ~를 합니다"
```

### 2. 확인 후 답변
- 코드를 읽고 → 이해하고 → 검증한 후 → 답변
- "~일 것 같습니다", "아마도" 금지
- 불확실하면 "확인하겠습니다"라고 말하고 파일 읽기

### 3. API/쿼리 계산 시
- 반드시 코드에서 API 호출 위치 확인
- 추측으로 계산하지 말 것
- 각 단계별로 명확히 검증

**예시:**
```
❌ 틀린 방식:
"키워드 생성이랑 콘텐츠 생성 둘 다 API 쓸 거예요" (추측)

✅ 올바른 방식:
1. keyword_curator.py 읽기 → Google API 사용 확인
2. generate_posts.py 읽기 → Claude API만 사용 확인
3. "키워드 생성만 Google API 사용합니다 (30 쿼리)"
```

### 4. 시간대 변환
- cron 표현식을 읽을 때 UTC → KST 변환 필수
- 주석만 보지 말고 실제 값도 확인
- `'0 9 * * *'` = 9:00 UTC = 18:00 KST

### 5. 불확실할 때는 즉시 확인
- 추측으로 답변하지 말 것
- "확인하겠습니다"라고 말하고 파일 읽기
- 확인 후 정확히 답변

**나쁜 예:**
```
사용자: "이게 API 쓰는 거야?"
Claude: "네, 아마 사용할 것 같습니다" (추측 → 틀림 → 사용자 정정)
```

**좋은 예:**
```
사용자: "이게 API 쓰는 거야?"
Claude: "확인하겠습니다"
        [파일 읽고 검증]
        "아니요, API를 사용하지 않습니다 (Line 42)"
```

---

## 📋 작업 전 체크리스트

작업하기 전에 반드시:

- [ ] 관련 파일을 읽었는가?
- [ ] 추측하지 않고 확인했는가?
- [ ] 계산이 정확한가?
- [ ] 시간대 변환이 맞는가?
- [ ] 코드 로직을 제대로 이해했는가?

---

## 💬 사용자 교정

### 개발 용어 설명
- 사용자가 개발 개념을 오해하면 친절히 설명
- 복잡한 개념은 숫자와 예시로 설명
- 전문 용어 최소화

**예시:**
```
사용자: "RSS도 API 쓰는 거야?"
Claude: "아니요, RSS는 무료 공개 URL입니다.
        Google Custom Search만 API 쿼리를 소비합니다.

        - RSS 가져오기 = 0 쿼리 (무료)
        - Google 검색 = 1 쿼리 (유료)"
```

---

## 🔍 검증 방법

### 파일 읽기
```python
# 항상 Read 도구 사용
Read(file_path="정확한/경로/파일.py")
```

### 코드 로직 확인
```python
# API 호출 위치 찾기
1. 파일 읽기
2. requests.get() 또는 API 호출 찾기
3. 몇 번 호출되는지 계산
4. 답변
```

### 시간 계산
```yaml
cron: '0 9 * * *'
→ 9:00 UTC
→ UTC + 9 = 18:00 KST (저녁 6시)
```

---

## ⚠️ 과거 실수 사례

### 실수 1: API 사용량 오계산
- **잘못**: "콘텐츠 생성도 Google API 쓸 것 같아요" (추측)
- **올바름**: generate_posts.py 읽고 Claude API만 사용 확인

### 실수 2: 시간대 혼동
- **잘못**: cron '0 9'를 보고 "오전 9시"라고 답변
- **올바름**: 9:00 UTC = 18:00 KST 변환 후 답변

### 실수 3: 환각 (Hallucination)
- **잘못**: 파일 안 읽고 "~일 것입니다" 답변
- **올바름**: 파일 읽고 정확히 확인 후 답변

### 실수 4: 추측으로 빠른 답변
- **잘못**: 빠르게 답변 → 틀림 → 사용자 정정 → 다시 확인 (시간 낭비)
- **올바름**: "확인하겠습니다" → 파일 읽기 → 정확한 답변 (한 번에 해결)

---

## ✅ 좋은 답변 패턴

### 패턴 1: 확인 후 답변
```
사용자: "이거 몇 개 만들어?"
Claude: [파일 읽기]
        "정확히 30개 키워드를 생성합니다 (Line 405)"
```

### 패턴 2: 계산 검증
```
사용자: "API 몇 번 써?"
Claude: [코드 확인]
        "1. RSS 가져오기: 0 쿼리
         2. 30개 키워드 검색: 30 쿼리
         3. 콘텐츠 생성: 0 쿼리
         총: 30 쿼리/일"
```

### 패턴 3: 불확실할 때
```
사용자: "이게 맞아?"
Claude: "확인하겠습니다"
        [파일 읽고 검증]
        "네, 맞습니다. 정확히 ~입니다"
```

---

## 🎯 핵심 원칙

1. **속도 < 정확성**
   - 빠르게 틀리는 것보다 느려도 정확한 게 낫다

2. **추측 금지**
   - "~일 것 같습니다" 절대 금지
   - 반드시 파일 읽고 확인

3. **검증 필수**
   - API 사용량, 시간대, 계산 등 모두 검증

4. **단순 명료**
   - 복잡한 설명보다 숫자와 예시 사용

5. **질문 먼저, 답변은 나중에**
   - 불확실하면 즉시 "확인하겠습니다"
   - 파일 읽고 검증 후 정확히 답변
   - 추측으로 빠르게 답변하지 말 것

6. **작업 내역 문서화**
   - 사용자가 "여태까지 한거 저장" 요청 시
   - **반드시 WORK_LOG.md에도 기록**
   - AUTOMATION_CONTEXT.md만 업데이트하고 끝내지 말 것

---

## 📝 문서화 규칙

### 작업 완료 시 문서 업데이트

사용자가 "여태까지 한거 저장", "작업 내역 기록", "문서화" 등을 요청하면:

1. **AUTOMATION_CONTEXT.md** 업데이트 (공개 문서)
   - Recent Changes Log에 추가
   - 기술적 세부사항 기록

2. **WORK_LOG.md** 업데이트 (개인 노트, Git 제외)
   - 해당 날짜 섹션에 작업 내역 추가
   - 발견한 문제점 기록
   - 다음 할 일 체크리스트 작성
   - 교훈 기록

**둘 다 업데이트해야 합니다. 하나만 하고 끝내지 마세요.**

---

**마지막 업데이트**: 2026-01-19 (개정 3회)
**작성 이유**: 속도에 치중해 부정확한 답변을 반복한 문제 해결

**이 가이드라인을 위반하면 사용자의 시간과 노력을 낭비하게 됩니다.**
